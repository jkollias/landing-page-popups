

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Landing Page Popup</title>
  <link rel="stylesheet" href="css/landing-page-popup.css">
</head>
<body>

<h2>Html Popup</h2>

<button 
  onClick="htmlPopup.showPopup();">
   Show HTML Popup
 </button>

<div class="this-is-my-div">
<p>Popup Content</p>  
</div>

<h2>Youtube Popup</h2>

<button 
  onClick="youtubePopup.showPopup();">
   Show Youtube Popup
 </button>



<!-- Youtube PopUp | JS --> 
<script>

//https://www.joahbeauty.com/media/wysiwyg/joah/home-page/rising-up-video.mp4
//https://www.youtube.com/embed/RWsCXWYXDso
//.this-is-my-div


class LandingPagePopup{

  constructor(content){
    this.content = content;
  }

  determineContent(){
    let popupContent = {};
    if (this.content.substring(0,1) == "." || this.content.substring(0,1) == "#"){
      popupContent.type = "html-content"
      popupContent.source = this.generateHTMLContent(this.content);
    }else if( this.content.substring(0,24)  == "https://www.youtube.com/"){
      popupContent.type = "youtube-video";
      popupContent.source = this.generateYoutubeContent(this.content);
    }else if(this.content.substring(0,27)  == "https://www.joahbeauty.com/"){
      popupContent.type = "joah-video";
    }
    else{
      console.error("You must add class, id or video url");
    }
    return popupContent;
  }

  generateHTMLContent(content){
    let htmlContent = `<section class="html-popup-content--container">`
    htmlContent+= document.querySelector(content).innerHTML;
    htmlContent+= `</section>`;
    return htmlContent;
  }

  generateYoutubeContent(content){
    let youtubeContent =`<iframe 
        id="video-src"
        class="youtube-video--iframe"
        width="560" height="315" 
        src="${content}" 
        title="YouTube video player" 
        frameborder="0" 
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
        allowfullscreen>
      </iframe>`;
    return youtubeContent;
  }

  createPopupContent(){
    let popupContent = this.determineContent();
    let html;
    html = document.createElement("section");
    html.classList.add("landing-page--popup-container");
    html.setAttribute("aria-hidden","true");
    html.innerHTML = `
              <div class="inner-${popupContent.type}-popup inner-landing-page--video-popup"> 
                <button 
                  class="close-popup--btn" 
                  onClick="removeLandingPagePopUp('.landing-page--popup-container')">
                    <div class="close-icon"></div>
                    <div class="screen-reader-text">Close ${popupContent.type} Button</div> 
                </button>
                 
                <div class="${popupContent.type}-container"  >
                  <div class="video-loader">
                    <div class="loading-icon"></div>
                    <div>Loading...</div>
                  </div> 
                  ${popupContent.source}
                </div><!-- ${popupContent.type}-container -->
              </div>`;
      return html;
  }

  showPopup(){
    document.body.classList.add('no-scroll');
    document.body.appendChild( this.createPopupContent() );
  }

  removeLandingPagePopUp(){
     
  }

}

var htmlPopup = new LandingPagePopup(".this-is-my-div"); 
var youtubePopup = new LandingPagePopup("https://www.youtube.com/embed/RWsCXWYXDso"); 


 
</script>  
 
  
</body>
</html>